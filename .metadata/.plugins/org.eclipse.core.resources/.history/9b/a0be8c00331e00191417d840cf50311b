package com.bridgelabz.servlets;

import java.io.IOException;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.List;

import javax.servlet.RequestDispatcher;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class RegistartionServlet extends HttpServlet {
	static List<User> users = new ArrayList<User>();

	@Override
	protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
		User user = new User();
		user.setName(req.getParameter("name"));
		user.setEmail(req.getParameter("email"));
		user.setPassword(req.getParameter("password"));
		user.setMobileNumber(req.getParameter("number"));
		users.add(user);
		PrintWriter out = resp.getWriter();
		out.println("<h2>This is Request Dispacher forward Controller</h2>");
		out.println("<b>Name   : "+user.getName()+"</b>");
		out.println("<b>E-mail   : "+user.getEmail()+"</b>");
		out.println("<b>Password   : "+user.getPassword()+"</b>");
		out.println("<b>Mobile Number   : "+user.getMobileNumber()+"</b>");
		out.close();
		display(user);
//		RequestDispatcher dis= req.getRequestDispatcher("/registration");
//		dis.forward(req, resp);
	}

	public void display(User user) {
			System.out.println("Full Name 		: " + user.getName());
			System.out.println("Email     		: " + user.getEmail());
			System.out.println("Password  		: " + user.getPassword());
			System.out.println("Mobile Number   	: " + user.getMobileNumber());
	}
}
