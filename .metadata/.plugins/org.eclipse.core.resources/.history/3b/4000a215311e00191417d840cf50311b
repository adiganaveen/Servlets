package com.bridgelabz.servlets;

import java.io.IOException;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.List;

import javax.servlet.RequestDispatcher;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class LoginServlet extends HttpServlet {
	static List<LoginUser> logins=new ArrayList<LoginUser>();
	@Override
	protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
		LoginUser loginUser=new LoginUser();
		loginUser.setEmail(req.getParameter("email"));
		loginUser.setPassword(req.getParameter("password"));
		logins.add(loginUser);
		display(loginUser);
		PrintWriter out = resp.getWriter();
		out.print("<h3>This is using Request Dispacher Include Controller</h3>");
		out.print("E-mail    : <b>"+loginUser.getEmail()+"</b>");
		out.print("Password  : <b>"+loginUser.getPassword()+"</b>");
		out.close();
		RequestDispatcher dis= req.getRequestDispatcher("/login");
		dis.include(req, resp);
	}
	public void display(LoginUser loginUser)
	{
		System.out.println("E-mail   : "+loginUser.getEmail());
		System.out.println("Password : "+loginUser.getPassword());
	}
}
