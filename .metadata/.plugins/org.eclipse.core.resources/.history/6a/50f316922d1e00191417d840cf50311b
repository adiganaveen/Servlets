package com.bridgelabz.servlets;

import java.io.IOException;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.List;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class RegistartionServlet extends HttpServlet {
	static List<User> users = new ArrayList<User>();

	@Override
	protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
		User user = new User();
		user.setName(req.getParameter("name"));
		user.setEmail(req.getParameter("email"));
		user.setPassword(req.getParameter("password"));
		user.setMobileNumber(req.getParameter("number"));
		users.add(user);
		PrintWriter out = resp.getWriter();
		out.print("<html>\n" + "<head>\n" + "<meta charset=\"UTF-8\">\n" + "<title>Insert title here</title>\n"
				+ "</head>\n" + "<body>\n" + "	<form action=\"login\" method=\"post\">\n" + "		<div>\n"
				+ "			<label>Full Name</label> <input type=\"text\" name=\"name\" required>\n"
				+ "		</div>\n" + "		<div>\n"
				+ "			<label>E-mail</label> <input type=\"text\" name=\"email\" required>\n" + "		</div>\n"
				+ "		<div>\n"
				+ "			<label>Password</label> <input type=\"password\" name=\"password\" required>\n"
				+ "		</div>\n" + "		<div>\n"
				+ "			<label>Mobile number</label> <input type=\"text\" name=\"number\" required>\n"
				+ "		</div>\n" + "		<input type=\"submit\">\n" + "	</form>\n" + "</body>\n" + "</html>");
		out.close();
		display(user);
	}

	public void display(User user) {
//		for (User user : users) {
			System.out.println("Full Name 		: " + user.getName());
			System.out.println("Email     		: " + user.getEmail());
			System.out.println("Password  		: " + user.getPassword());
			System.out.println("Mobile Number   	: " + user.getMobileNumber());
//		}
	}
}
